(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c2cee30"],{"07d8":function(t,e,n){"use strict";var i=n("5aee"),r=n("9f79"),a="Set";t.exports=n("ada4")(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,a),t=0===t?0:t,t)}},i)},"097e":function(t,e,n){},"0b64":function(t,e,n){var i=n("f772"),r=n("9003"),a=n("5168")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},"0fe2":function(t,e,n){"use strict";var i=n("097e"),r=n.n(i);r.a},"11e9":function(t,e,n){var i=n("52a7"),r=n("4630"),a=n("6821"),o=n("6a99"),s=n("69a8"),c=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=a(t),e=o(e,!0),c)try{return u(t,e)}catch(n){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var i=n("d9f6"),r=n("aebd");t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},"2d0d":function(t,e,n){},4517:function(t,e,n){var i=n("a22a");t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"549b":function(t,e,n){"use strict";var i=n("d864"),r=n("63b6"),a=n("241e"),o=n("b0dc"),s=n("3702"),c=n("b447"),u=n("20fd"),l=n("7cd6");r(r.S+r.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,d,f=a(t),m="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,b=void 0!==h,p=0,y=l(f);if(b&&(h=i(h,v>2?arguments[2]:void 0,2)),void 0==y||m==Array&&s(y))for(e=c(f.length),n=new m(e);e>p;p++)u(n,p,b?h(f[p],p):f[p]);else for(d=y.call(f),n=new m;!(r=d.next()).done;p++)u(n,p,b?o(d,h,[r.value,p],!0):r.value);return n.length=p,n}})},"57b1":function(t,e,n){var i=n("d864"),r=n("335c"),a=n("241e"),o=n("b447"),s=n("bfac");t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d,m=e||s;return function(e,s,v){for(var h,b,p=a(e),y=r(p),C=i(s,v,3),g=o(y.length),k=0,_=n?m(e,g):c?m(e,0):void 0;g>k;k++)if((f||k in y)&&(h=y[k],b=C(h,k,p),t))if(n)_[k]=b;else if(b)switch(t){case 3:return!0;case 5:return h;case 6:return k;case 2:_.push(h)}else if(l)return!1;return d?-1:u||l?l:_}}},"57e3":function(t,e,n){n("68f7")("Set")},"5aee":function(t,e,n){"use strict";var i=n("d9f6").f,r=n("a159"),a=n("5c95"),o=n("d864"),s=n("1173"),c=n("a22a"),u=n("30f1"),l=n("50ed"),d=n("4c95"),f=n("8e60"),m=n("ebfd").fastKey,v=n("9f79"),h=f?"_s":"size",b=function(t,e){var n,i=m(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var l=t(function(t,i){s(t,l,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[h]=0,void 0!=i&&c(i,n,t[u],t)});return a(l.prototype,{clear:function(){for(var t=v(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[h]=0},delete:function(t){var n=v(this,e),i=b(n,t);if(i){var r=i.n,a=i.p;delete n._i[i.i],i.r=!0,a&&(a.n=r),r&&(r.p=a),n._f==i&&(n._f=r),n._l==i&&(n._l=a),n[h]--}return!!i},forEach:function(t){v(this,e);var n,i=o(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){i(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!b(v(this,e),t)}}),f&&i(l.prototype,"size",{get:function(){return v(this,e)[h]}}),l},def:function(t,e,n){var i,r,a=b(t,e);return a?a.v=n:(t._l=a={i:r=m(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=a),i&&(i.n=a),t[h]++,"F"!==r&&(t._i[r]=a)),t},getEntry:b,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=v(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?l(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),d(e)}}},"5d73":function(t,e,n){t.exports=n("469f")},"5dbc":function(t,e,n){var i=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var a,o=e.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&i(a)&&r&&r(t,a),t}},"68f7":function(t,e,n){"use strict";var i=n("63b6"),r=n("79aa"),a=n("d864"),o=n("a22a");t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,s,c=arguments[1];return r(this),e=void 0!==c,e&&r(c),void 0==t?new this:(n=[],e?(i=0,s=a(c,arguments[2],2),o(t,!1,function(t){n.push(s(t,i++))})):o(t,!1,n.push,n),new this(n))}})}},7075:function(t,e,n){"use strict";var i=n("63b6");t.exports=function(t){i(i.S,t,{of:function(){var t=arguments.length,e=new Array(t);while(t--)e[t]=arguments[t];return new this(e)}})}},"73ff":function(t,e,n){"use strict";var i=n("2d0d"),r=n.n(i);r.a},"74be":function(t,e,n){var i=n("63b6");i(i.P+i.R,"Set",{toJSON:n("f228")("Set")})},"768b":function(t,e,n){"use strict";var i=n("a745"),r=n.n(i);function a(t){if(r()(t))return t}var o=n("5d73"),s=n.n(o);function c(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,c=s()(t);!(i=(o=c.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(u){r=!0,a=u}finally{try{i||null==c["return"]||c["return"]()}finally{if(r)throw a}}return n}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(t,e){return a(t)||c(t,e)||u()}n.d(e,"a",function(){return l})},"774e":function(t,e,n){t.exports=n("d2d5")},"7d7b":function(t,e,n){var i=n("e4ae"),r=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},"7f7f":function(t,e,n){var i=n("86cc").f,r=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in r||n("9e1e")&&i(r,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},8045:function(t,e,n){},"837b":function(t,e,n){},"8b97":function(t,e,n){var i=n("d3f4"),r=n("cb7c"),a=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},"8c73":function(t,e,n){"use strict";var i=n("8045"),r=n.n(i);r.a},9093:function(t,e,n){var i=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},"9f79":function(t,e,n){var i=n("f772");t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},a745:function(t,e,n){t.exports=n("f410")},aa77:function(t,e,n){var i=n("5ca1"),r=n("be13"),a=n("79e5"),o=n("fdef"),s="["+o+"]",c="​",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),d=function(t,e,n){var r={},s=a(function(){return!!o[t]()||c[t]()!=c}),u=r[t]=s?e(f):o[t];n&&(r[n]=u),i(i.P+i.F*s,"String",r)},f=d.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=d},ada4:function(t,e,n){"use strict";var i=n("e53d"),r=n("63b6"),a=n("ebfd"),o=n("294c"),s=n("35e8"),c=n("5c95"),u=n("a22a"),l=n("1173"),d=n("f772"),f=n("45f2"),m=n("d9f6").f,v=n("57b1")(0),h=n("8e60");t.exports=function(t,e,n,b,p,y){var C=i[t],g=C,k=p?"set":"add",_=g&&g.prototype,w={};return h&&"function"==typeof g&&(y||_.forEach&&!o(function(){(new g).entries().next()}))?(g=e(function(e,n){l(e,g,t,"_c"),e._c=new C,void 0!=n&&u(n,p,e[k],e)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in _&&(!y||"clear"!=t)&&s(g.prototype,t,function(n,i){if(l(this,g,t),!e&&y&&!d(n))return"get"==t&&void 0;var r=this._c[t](0===n?0:n,i);return e?this:r})}),y||m(g.prototype,"size",{get:function(){return this._c.size}})):(g=b.getConstructor(e,t,p,k),c(g.prototype,n),a.NEED=!0),f(g,t),w[t]=g,r(r.G+r.W+r.F,w),y||b.setStrong(g,t,p),g}},b6d0:function(t,e,n){t.exports=n("fa2b")},bfac:function(t,e,n){var i=n("0b64");t.exports=function(t,e){return new(i(t))(e)}},c5f6:function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),a=n("2d95"),o=n("5dbc"),s=n("6a99"),c=n("79e5"),u=n("9093").f,l=n("11e9").f,d=n("86cc").f,f=n("aa77").trim,m="Number",v=i[m],h=v,b=v.prototype,p=a(n("2aeb")(b))==m,y="trim"in String.prototype,C=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():f(e,3);var n,i,r,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var o,c=e.slice(2),u=0,l=c.length;u<l;u++)if(o=c.charCodeAt(u),o<48||o>r)return NaN;return parseInt(c,i)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(p?c(function(){b.valueOf.call(n)}):a(n)!=m)?o(new h(C(e)),n,v):C(e)};for(var g,k=n("9e1e")?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;k.length>_;_++)r(h,g=k[_])&&!r(v,g)&&d(v,g,l(h,g));v.prototype=b,b.constructor=v,n("2aba")(i,m,v)}},c6fb:function(t,e,n){n("7075")("Set")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d2d6:function(t,e,n){"use strict";var i=n("837b"),r=n.n(i);r.a},d432:function(t,e,n){},e9f8:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"saleedi-order-itemDetails"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.maskShow,expression:"maskShow"}],staticClass:"item-details-mask",on:{click:t.maskClickHandler}}),n("div",{staticClass:"itemDetails-tools-bar clearfix"},[n("div",{staticClass:"class-btn",on:{click:t.classBtnHandle}},[n("i",{staticClass:"class-btn-icon fl-l"}),t._m(0)]),n("form",{staticClass:"search-form",attrs:{action:"/"}},[n("van-search",{staticClass:"itemDetails-search",attrs:{placeholder:"明细搜索,请输入搜索关键词"},on:{search:t.onSearch},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),n("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.billState,expression:"!billState"}],staticClass:"confirm-btn",attrs:{size:"small",type:"primary",round:""},on:{click:t.confirmHandle}},[t._v("\n\t\t\t\t提交\n\t\t\t")]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:"1"===t.billState,expression:"billState === '1'"}],staticClass:"confirm-btn",attrs:{size:"small",type:"primary",round:""},on:{click:t.saveHandle}},[t._v("\n\t\t\t\t保存\n\t\t\t")])],1),n("itemGrid",{ref:"item-grid",attrs:{itemGridData:t.gridData,isActive:t.rowActive},on:{itemCountClick:t.itemCountClickHandle}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.numberKeyboardShow,expression:"!numberKeyboardShow"}],staticClass:"itemDetails-bottom"},[n("div",{staticClass:"itemDetails-sum-box"},[t._m(1),n("div",{staticClass:"sum-box-count"},[n("div",[t._v("订货明细数："+t._s(t.itemSumLength))]),n("div",[t._v("订货品项数量："+t._s(t.itemSumCount))])]),n("div",{staticClass:"sum-box-price"},[t._v(t._s(t.itemSumPrice))])])]),n("van-popup",{staticClass:"slide-menu",attrs:{position:"left"},model:{value:t.slideMenu,callback:function(e){t.slideMenu=e},expression:"slideMenu"}},[n("div",{staticClass:"slideMenu-item"},[t._v("品项分类")]),n("div",{staticClass:"slideMenu-item",class:{"is-active":"selected"===t.bigClassActive},on:{click:function(e){t.bigClassClickHandler("selected")}}},[t._v("已选品项")]),n("div",{staticClass:"slideMenu-item"},[t._v("全部品项")]),t._l(t.bigClassData,function(e,i){return n("div",{key:i,staticClass:"slideMenu-item",class:{"is-active":i===t.bigClassActive},on:{click:function(e){t.bigClassClickHandler(i)}}},[t._v(t._s(e.name))])})],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.numberKeyboardShow,expression:"numberKeyboardShow"}],staticClass:"details-number-keyboard"},[n("itemNumberKeyboard",{attrs:{title:t.keyboardTitle},on:{input:t.onKeyboardInput,pre:t.onKeyboardPre,next:t.onKeyboardNext,delete:t.onKeyboardDel}})],1)],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"class-btn-text fl-l"},[t._v("分"),n("br"),t._v("类")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sum-box-icon"},[n("i",{staticClass:"sum-icon"})])}],a=n("768b"),o=n("b6d0"),s=n.n(o),c=n("774e"),u=n.n(c),l=(n("7f7f"),n("ac6a"),n("795b")),d=n.n(l),f=n("59ad"),m=n.n(f),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"itemDetails-grid"},[t._m(0),n("div",{ref:"grid-body",staticClass:"grid-body"},[n("van-collapse",{ref:"gridBody",attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.itemGridData,function(e,i){return n("van-collapse-item",{key:i,ref:"grid-row-"+i,refInFor:!0,staticClass:"grid-collapse-item",attrs:{name:i,border:!1,"is-link":!1}},[n("div",{staticClass:"grid-tr",class:{"is-active":t.isActiveTrClass(i),"has-amount":t.hasAmountTrClass(e.orderAmount)},attrs:{slot:"title"},slot:"title"},[n("div",{staticClass:"grid-td-itemName fx-ellipsis",on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(e.goodsName))]),n("div",{staticClass:"grid-td-unit",on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(e.unitName))]),n("div",{staticClass:"grid-td-price",on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t._f("filterPrice")(e.priceNoTax)))]),n("div",{staticClass:"grid-td-count",on:{click:function(n){n.stopPropagation(),t.itemCountClickHandle(e.orderAmount,e,i)}}},[t._v(t._s(e.orderAmount))]),n("div",{staticClass:"grid-td-info"},[n("i",{staticClass:"grid-td-info-icon",class:{"grid-td-info-icon-active":""!==e.remark&&void 0!==e.info}})])]),n("div",[n("van-field",{staticClass:"itemDetails-textarea",attrs:{type:"textarea",placeholder:"请输入备注信息(最多输入50个字符)",rows:"3"},on:{blur:function(e){t.activeNames=""}},model:{value:e.remark,callback:function(n){t.$set(e,"remark",n)},expression:"item.remark"}})],1)])}),1)],1)])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid-title"},[n("div",{staticClass:"grid-td-itemName fx-ellipsis"},[t._v("品项名称")]),n("div",{staticClass:"grid-td-unit"},[t._v("单位")]),n("div",{staticClass:"grid-td-price"},[t._v("单价（元）")]),n("div",{staticClass:"grid-td-count"},[t._v("订货数量")]),n("div",{staticClass:"grid-td-info"},[t._v("备注")])])}],b=(n("c5f6"),function(){for(var t=0,e=["webkit","moz"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),a=window.setTimeout(function(){var t=i+r;e(t)},r);return t=i+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}),p=function(t){var e=t.offsetTop,n=void 0===e?0:e,i=t.$el,r=void 0===i?document.documentElement:i,a=t.distance,o=void 0===a?100:a;window.requestAnimationFrame||b();var s=null,c=r.scrollTop;cancelAnimationFrame(s),s=requestAnimationFrame(function t(){c<n?(c+=o,r.scrollTop=c,s=requestAnimationFrame(t)):(r.scrollTop=n,cancelAnimationFrame(s))})},y={name:"itemGrid",props:{itemGridData:{type:Array,default:function(){return[]}},isActive:[Number,String]},data:function(){return{activeNames:""}},methods:{itemCountClickHandle:function(t,e,n){this.onSelectLetter(n),this.activeNames="",this.$emit("itemCountClick",[t,e,n])},onSelectLetter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=this.$refs["grid-row-".concat(t)][0].$el.offsetTop,i=this.$refs["grid-body"];p({offsetTop:n,$el:i,distance:e})},hasAmountTrClass:function(t){return m()(t)>0},isActiveTrClass:function(t){return this.isActive===t}}},C=y,g=(n("8c73"),n("f6f8"),n("0c7c")),k=Object(g["a"])(C,v,h,!1,null,"7c382184",null),_=k.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-number-keyboard"},[n("div",{staticClass:"number-keyboard-title"},[t._v(t._s(t.title))]),n("div",{staticClass:"number-keyboard-content"},[n("div",{staticClass:"keyboard-number"},[n("div",{staticClass:"keyboard-number-row"},[n("i",{staticClass:"keyboard-btn-1",on:{click:function(e){t.numberBtnClick("1")}}},[t._v("1")]),n("i",{staticClass:"keyboard-btn-1",on:{click:function(e){t.numberBtnClick("2")}}},[t._v("2")]),n("i",{staticClass:"keyboard-btn-1",on:{click:function(e){t.numberBtnClick("3")}}},[t._v("3")])]),n("div",{staticClass:"keyboard-number-row"},[n("i",{staticClass:"keyboard-btn-1",on:{click:function(e){t.numberBtnClick("4")}}},[t._v("4")]),n("i",{staticClass:"keyboard-btn-1",on:{click:function(e){t.numberBtnClick("5")}}},[t._v("5")]),n("i",{staticClass:"keyboard-btn-1",on:{click:function(e){t.numberBtnClick("6")}}},[t._v("6")])]),n("div",{staticClass:"keyboard-number-row"},[n("i",{staticClass:"keyboard-btn-1",on:{click:function(e){t.numberBtnClick("7")}}},[t._v("7")]),n("i",{staticClass:"keyboard-btn-1",on:{click:function(e){t.numberBtnClick("8")}}},[t._v("8")]),n("i",{staticClass:"keyboard-btn-1",on:{click:function(e){t.numberBtnClick("9")}}},[t._v("9")])]),n("div",{staticClass:"keyboard-number-row"},[n("i",{staticClass:"keyboard-btn-2 keyboard-btn-zero",on:{click:function(e){t.numberBtnClick("0")}}},[t._v("0")]),n("i",{staticClass:"keyboard-btn-1 keyboard-btn-dot",on:{click:function(e){t.numberBtnClick(".")}}},[t._v(".")])])]),n("div",{staticClass:"keyboard-control"},[n("i",{staticClass:"keyboard-btn-2 keyboard-btn-del",on:{click:t.delBtnClick}},[t._v("x")]),n("i",{staticClass:"keyboard-btn-3 keyboard-btn-pre",on:{click:t.preBtnClick}},[t._v("上一个")]),n("i",{staticClass:"keyboard-btn-3 keyboard-btn-next",on:{click:t.nextBtnClick}},[t._v("下一个")])])])])},A=[],I={name:"itemNumberKeyboard",props:{title:String},methods:{numberBtnClick:function(t){this.$emit("input",t)},delBtnClick:function(){this.$emit("delete")},preBtnClick:function(){this.$emit("pre")},nextBtnClick:function(){this.$emit("next")}}},x=I,S=(n("73ff"),Object(g["a"])(x,w,A,!1,null,"b4184a48",null)),N=S.exports,D={name:"orderItemDetails",components:{itemGrid:_,itemNumberKeyboard:N},data:function(){return{billId:this.$route.query.id,billState:this.$route.query.billState,searchValue:"",bigClassActive:"",allClassItemData:[],gridData:[],bigClassData:[],currentSelectItem:[],slideMenu:!1,numberKeyboardShow:!1,keyboardTitle:"",rowActive:"",maskShow:!1}},created:function(){var t=this;"1"===this.billState?this.getBillAndDetails().then(function(e){t.initAllClassItemData(e)}):this.getOrderPlanDetail().then(function(e){t.initAllClassItemData(e)})},computed:{itemSumLength:function(){var t=this.getCurrentSelectItem();return t.length},itemSumCount:function(){var t=this.getCurrentSelectItem(),e=t.reduce(function(t,e){return t+(e.orderAmount-0)},0);return e},itemSumPrice:function(){var t="",e=this.getCurrentSelectItem();return t=e.reduce(function(t,e){var n=m()(t)+m()(e.priceNoTax)*m()(e.orderAmount);return n},0),this.$fxUtils.toFixedSHW(t,2)}},watch:{bigClassActive:function(t){"selected"===t?(this.currentSelectItem=this.getCurrentSelectItem(),this.gridData=this.currentSelectItem):this.gridData=this.allClassItemData[t].detailDTOS},rowActive:function(t){if(""!==t){var e=this.gridData[t];this.keyboardTitle="".concat(e.goodsName,"(").concat(e.unitName,")")}}},methods:{getOrderPlanDetail:function(){var t=this;return new d.a(function(e){var n={companyName:t.$route.query.companyName,planID:t.$route.query.planID,rdcId:t.$route.query.rdcId};t.$fxHttp.requestPost({url:"/getOrderPlanDetail",data:n}).then(function(t){e(t)})})},initAllClassItemData:function(t){t.forEach(function(t){t.detailDTOS.forEach(function(t){t.planDtId=t.id,t.orderAmount||(t.orderAmount="0")})});var e=t.map(function(t){return{id:t.id,name:t.name}});e.length>0&&(this.bigClassActive=0),this.bigClassData=e,this.allClassItemData=t},getBillAndDetails:function(){var t=this;return new d.a(function(e){var n={id:t.$route.query.id};t.$fxHttp.requestPost({url:"/getBillAndDetails",data:n}).then(function(n){t.translateBillData(n.details).then(function(t){e(t)})})})},translateBillData:function(t){return new d.a(function(e){var n=t.map(function(t){return t.goodsTypeId});n=u()(new s.a(n));var i=n.map(function(e){var n={id:e},i=t.filter(function(t){return t.goodsTypeId===e});return n.name=i[0].goodsName,n.detailDTOS=i,n});e(i)})},confirmHandle:function(){var t=this,e={organId:this.$route.query.rdcId,organName:this.$route.query.rdcName,receiptInfoId:"",companyId:this.$route.query.companyId,companyName:this.$route.query.companyName,planId:this.$route.query.planID,details:this.getCurrentSelectItem()};this.$fxHttp.requestPost({url:"/saveBill",data:e}).then(function(e){t.$router.push({path:"/home/order"})})},saveHandle:function(){var t=this,e={id:this.$route.query.id,organId:this.$route.query.rdcId,organName:this.$route.query.rdcName,receiptInfoId:this.$route.query.receiptInfoId,companyId:this.$route.query.companyId,companyName:this.$route.query.companyName,planId:this.$route.query.planID,details:this.getCurrentSelectItem()};this.$fxHttp.requestPost({url:"/updateBill",data:e}).then(function(e){t.$toast.success("保存成功")})},onSearch:function(){console.log("搜索")},classBtnHandle:function(){this.slideMenu=!this.slideMenu},itemCountClickHandle:function(t){var e=Object(a["a"])(t,3),n=(e[0],e[1],e[2]);this.rowActive=n,this.numberKeyboardShow=!0,this.maskShow=!0},bigClassClickHandler:function(t){this.bigClassActive=t},closeKeyboard:function(){this.rowActive=""},onKeyboardInput:function(t){this.setItemCount(t)},onKeyboardPre:function(){if(!this.rowActive)return!1;this.rowActive--,this.$refs["item-grid"].onSelectLetter(this.rowActive,5)},onKeyboardNext:function(){if(""===this.rowActive||this.rowActive===this.gridData.length-1)return!1;this.rowActive++,this.$refs["item-grid"].onSelectLetter(this.rowActive,5)},setItemCount:function(t){var e=this.gridData[this.rowActive].orderAmount+"";return(-1!==e.indexOf(".")||4!==e.length||"."===t)&&((-1===e.indexOf(".")||"."!==t)&&((-1===e.indexOf(".")||7!==e.length)&&void("0"===e?this.gridData[this.rowActive].orderAmount=t:this.gridData[this.rowActive].orderAmount+=t)))},onKeyboardDel:function(t){var e=this.gridData[this.rowActive].orderAmount+"";if("0"===e)return!1;e=1===e.length?"0":e.substr(0,e.length-1),this.gridData[this.rowActive].orderAmount=e},maskClickHandler:function(){"selected"===this.rowActive&&this.copyCurrentItemAmount(),this.maskShow=!1,this.numberKeyboardShow=!1,this.rowActive=""},getCurrentSelectItem:function(){var t=this.allClassItemData.reduce(function(t,e){var n=e.detailDTOS.filter(function(t){return m()(t.orderAmount)>0});return t=t.concat(n),t},[]);return t},copyCurrentItemAmount:function(){var t=this;this.currentSelectItem.forEach(function(e){t.allClassItemData.forEach(function(t){t.detailDTOS.forEach(function(t){e.id===t.id&&(t.orderAmount=e.orderAmount)})})})}}},$=D,E=(n("d2d6"),n("0fe2"),Object(g["a"])($,i,r,!1,null,"5cbfee46",null));e["default"]=E.exports},f228:function(t,e,n){var i=n("40c3"),r=n("4517");t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f6f8:function(t,e,n){"use strict";var i=n("d432"),r=n.n(i);r.a},fa2b:function(t,e,n){n("c207"),n("1654"),n("6c1c"),n("07d8"),n("74be"),n("c6fb"),n("57e3"),t.exports=n("584a").Set},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-6c2cee30.58d30b32.js.map