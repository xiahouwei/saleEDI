(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e4d98f7"],{"0f42":function(t,e,r){},"4f1f":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"saleedi-order"},[r("div",{staticClass:"saleedi-order-title"},[t._v("\n\t\t待确认订单\n\t\t"),r("div",{staticClass:"edit-btn fl-r",on:{click:t.editBtnClick}},[t._v(t._s(t.editBtnText))])]),r("div",{staticClass:"order-wrap"},t._l(t.orderData,function(e,a){return r("div",{key:a,staticClass:"order-block fx-edi-block"},[r("div",{staticClass:"order-ent-cell"},[r("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.orderEditFlag,expression:"orderEditFlag"}],staticClass:"order-checkbox",on:{change:function(e){t.entCheckboxChange(arguments,a)}},model:{value:e.checked,callback:function(r){t.$set(e,"checked",r)},expression:"item.checked"}}),r("div",{staticClass:"order-ent"},[t._v(t._s(e.organName))])],1),r("div",{staticClass:"order-list"},t._l(e.bills,function(e,a){return r("div",{key:a,staticClass:"order-list-item",on:{click:function(r){t.orderItemClick(e.id)}}},[r("stateTag",{staticClass:"order-item-state",attrs:{billState:e.billState}}),r("div",{staticClass:"order-item-title"},[r("div",{staticClass:"order-item-number"},[t._v("订单编号："+t._s(e.billNo))])]),r("div",{staticClass:"order-item-details"},[r("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.orderEditFlag,expression:"orderEditFlag"}],staticClass:"order-details-checkbox",model:{value:e.checked,callback:function(r){t.$set(e,"checked",r)},expression:"listItem.checked"}}),r("div",{staticClass:"order-item-row"},[r("div",{staticClass:"order-item-count order-item-cell"},[t._v("明细数量："+t._s(e.billDtCount))]),r("div",{staticClass:"order-item-sumCount order-item-cell"},[t._v("数量合计："+t._s(e.goodsCount))])]),r("div",{staticClass:"order-item-sumPrice order-item-cell"},[t._v("金额合计："+t._s(e.sumMoneyWithTax))]),r("div",{staticClass:"order-item-date order-item-cell"},[t._v("下单时间："+t._s(e.makeDate))])],1)],1)}),0)])}),0),r("div",{directives:[{name:"show",rawName:"v-show",value:t.orderEditFlag,expression:"orderEditFlag"}],staticClass:"order-bottom"},[r("van-checkbox",{staticClass:"select-all-checkbox",model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}},[t._v("全选")]),r("div",{staticClass:"order-bottom-text"},[t._v("已选"+t._s(t.selectCountCoumpted)+"条订单")]),r("van-button",{attrs:{type:"danger",square:""}},[t._v("删除订单")])],1)])},i=[],s=r("795b"),c=r.n(s),l=(r("ac6a"),r("84df")),n={name:"order",components:{stateTag:l["a"]},data:function(){return{orderData:[],orderEditFlag:!1,selectAll:!1}},created:function(){this.orderListInit()},watch:{selectAll:function(t){this.orderData.forEach(function(e){e.checked=t,e.bills.forEach(function(e){e.checked=t})})}},computed:{editBtnText:function(){return this.orderEditFlag?"完成":"编辑"},selectCountCoumpted:function(){var t=[];this.orderData.forEach(function(e){t=t.concat(e.bills)});var e=t.filter(function(t){return!0===t.checked});return e.length}},methods:{orderListInit:function(){var t=this;this.getQueryAllBill().then(function(e){e.forEach(function(t){t.checked=!1,t.bills.forEach(function(t){t.checked=!1})}),t.orderData=e})},getQueryAllBill:function(){var t=this;return new c.a(function(e){var r={billState:""};t.$fxHttp.requestPost({url:"/queryAllBill",data:r}).then(function(t){e(t)})})},editBtnClick:function(){this.orderEditFlag=!this.orderEditFlag},entCheckboxChange:function(t,e){var r=t[0];this.orderData[e].bills.forEach(function(t){t.checked=r})},orderItemClick:function(t){if(this.orderEditFlag)return!1;this.$router.push({path:"/orderDetails",query:{id:t}})}}},o=n,d=(r("644b"),r("0c7c")),u=Object(d["a"])(o,a,i,!1,null,"b7e4e6f2",null);e["default"]=u.exports},"644b":function(t,e,r){"use strict";var a=r("0f42"),i=r.n(a);i.a},"84df":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("van-tag",{attrs:{mark:"",type:t.tagType,size:"large"}},[t._v(t._s(t.billStateText))])},i=[],s={name:"stateTag",props:{billState:String},computed:{billStateText:function(){var t="";switch(this.billState){case"1":t="待确认";break;case"2":t="待收货";break;case"3":t="已完成";break}return t},tagType:function(){var t="";switch(this.billState){case"1":t="danger";break;case"2":t="primary";break;case"3":t="success";break}return t}}},c=s,l=r("0c7c"),n=Object(l["a"])(c,a,i,!1,null,null,null);e["a"]=n.exports}}]);
//# sourceMappingURL=chunk-0e4d98f7.40140067.js.map