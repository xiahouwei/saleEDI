(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["registe"],{"033a":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"saleedi-login"},[e._m(0),i("div",{staticClass:"login-form"},[i("van-cell-group",{staticClass:"login-cell-group",attrs:{border:!1}},[i("van-field",{ref:"urserName",staticClass:"login-cell",attrs:{placeholder:"请输入用户名","error-message":e.errorMessage.urserName},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.onKeyupInput("urserName")}},model:{value:e.urserName,callback:function(t){e.urserName=t},expression:"urserName"}},[i("img",{staticClass:"login-cell-icon",attrs:{slot:"left-icon",src:n("c3cd")},slot:"left-icon"})]),i("van-field",{ref:"phoneNumber",staticClass:"login-cell",attrs:{placeholder:"请输入手机号，必填","error-message":e.errorMessage.phoneNumber,type:"number",pattern:"\\d*"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.onKeyupInput("phoneNumber")}},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}},[i("img",{staticClass:"login-cell-icon phoneNumber-icon",attrs:{slot:"left-icon",src:n("eedf")},slot:"left-icon"}),i("van-button",{staticClass:"verification-btn",attrs:{slot:"button",size:"small",type:"primary",round:"",disabled:e.verificationTimeComputed},on:{click:e.getVerificationCode},slot:"button"},[e._v("\n\t\t\t\t\t\t验证码\n\t\t\t\t\t\t"),i("span",{directives:[{name:"show",rawName:"v-show",value:e.verificationTimeComputed,expression:"verificationTimeComputed"}]},[e._v(" ( "+e._s(e.verificationTime)+" ) ")])])],1),i("van-field",{ref:"verificationCode",staticClass:"login-cell",attrs:{placeholder:"请输入验证码",type:"number","error-message":e.errorMessage.verificationCode},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.onKeyupInput("verificationCode")}},model:{value:e.verificationCode,callback:function(t){e.verificationCode=t},expression:"verificationCode"}},[i("img",{staticClass:"login-cell-icon",attrs:{slot:"left-icon",src:n("e74c")},slot:"left-icon"})])],1),i("van-button",{staticClass:"login-btn",attrs:{type:"primary",round:""},on:{click:e.loginHanle}},[e._v("注册并登陆")])],1)])},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-welcome clearfix"},[i("div",{staticClass:"welcome-text fl-l"},[e._v("您好，欢迎您注册并登录！")]),i("img",{staticClass:"welcome-login fl-r",attrs:{src:n("0673"),alt:""}})])}],o=n("795b"),a=n.n(o),s=n("ecc6"),c={name:"login",data:function(){return{formFieldRef:["urserName","phoneNumber","verificationCode"],urserName:"",phoneNumber:"",verificationCode:"",errorMessage:{urserName:"",phoneNumber:"",verificationCode:""},verificationTime:""}},destroyed:function(){this.clearVerificationTime()},computed:{verificationTimeComputed:function(){return!(""===this.verificationTime||this.verificationTime<0)}},methods:{onKeyupInput:function(e){var t=this;s["a"].apply(this,[e,this.formFieldRef]).then(function(){t.loginHanle()})},loginHanle:function(){var e=this;this.validate().then(function(t){t&&e.loginPose()})},loginPose:function(){var e=this,t={userName:this.urserName,telephone:this.phoneNumber,authCode:this.verificationCode};this.$fxHttp.requestPost({url:"".concat(this.$fxBaseApi.url,"/register"),data:t}).then(function(t){e.$router.push("/bindEnt")})},validate:function(){var e=this;return new a.a(function(t){e.clearValidate();var n=!0;""===e.urserName&&(e.errorMessage.urserName="用户名不能为空",n=!1),""===e.phoneNumber?(e.errorMessage.phoneNumber="手机号不能为空",n=!1):/^[1][0-9]{10}$/.test(e.phoneNumber)||(e.errorMessage.phoneNumber="手机号格式不正确",n=!1),""===e.verificationCode&&(e.errorMessage.verificationCode="验证码不能为空",n=!1),t(n)})},clearValidate:function(){for(var e in this.errorMessage)this.errorMessage[e]=""},validatePhoneNumber:function(){var e=this;return new a.a(function(t){e.errorMessage.phoneNumber="";var n=!0;""===e.phoneNumber?(e.errorMessage.phoneNumber="手机号不能为空",n=!1):/^[1][0-9]{10}$/.test(e.phoneNumber)||(e.errorMessage.phoneNumber="手机号格式不正确",n=!1),t(n)})},getVerificationCode:function(){var e=this;this.validatePhoneNumber().then(function(t){t&&e.verificationCodeHandle()})},verificationCodeHandle:function(){var e=this,t={telephone:this.phoneNumber};this.$fxHttp.requestPost({url:"".concat(this.$fxBaseApi.url,"/getVerificationCode"),data:t}).then(function(t){e.verificationTimeHandle()})},verificationTimeHandle:function(){var e=this;this.verificationTime=10,this.verificationTimeInterval=window.setInterval(function(){e.verificationTime<0?(e.clearVerificationTime(),e.verificationTime=""):e.verificationTime--},1e3)},clearVerificationTime:function(){this.verificationTimeInterval&&window.clearInterval(this.verificationTimeInterval)}}},u=c,l=(n("398e"),n("0c7c")),f=Object(l["a"])(u,i,r,!1,null,"4dac28e0",null);t["default"]=f.exports},"0673":function(e,t,n){e.exports=n.p+"src/assets/img/logo-login.9e01c680.png"},"0a49":function(e,t,n){var i=n("9b43"),r=n("626a"),o=n("4bf8"),a=n("9def"),s=n("cd1c");e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f,m=t||s;return function(t,s,v){for(var p,h,b=o(t),g=r(b),C=i(s,v,3),y=a(g.length),N=0,k=n?m(t,y):c?m(t,0):void 0;y>N;N++)if((d||N in g)&&(p=g[N],h=C(p,N,b),e))if(n)k[N]=h;else if(h)switch(e){case 3:return!0;case 5:return p;case 6:return N;case 2:k.push(p)}else if(l)return!1;return f?-1:u||l?l:k}}},1169:function(e,t,n){var i=n("2d95");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"1ada":function(e,t,n){"use strict";var i=n("ce5a"),r=n.n(i);r.a},"20d6":function(e,t,n){"use strict";var i=n("5ca1"),r=n("0a49")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"36d3":function(e,t,n){},"398e":function(e,t,n){"use strict";var i=n("36d3"),r=n.n(i);r.a},"4f7a":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"saleedi-bindEnt"},[n("div",{staticClass:"bindEnt-form"},[n("van-cell-group",{staticClass:"bindEnt-cell-group",attrs:{border:!1}},[n("van-field",{ref:"entName",staticClass:"bindEnt-cell",attrs:{label:"订货企业",placeholder:"请输入订货企业名称","error-message":e.errorMessage.entName},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.onKeyupInput("entName")}},model:{value:e.entName,callback:function(t){e.entName=t},expression:"entName"}}),n("van-field",{ref:"customerInfo",staticClass:"bindEnt-cell",attrs:{label:"客户信息",placeholder:"请输入您在订货企业中的轻订货注册码","error-message":e.errorMessage.customerInfo},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.onKeyupInput("customerInfo")}},model:{value:e.customerInfo,callback:function(t){e.customerInfo=t},expression:"customerInfo"}})],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.$route.query.notFirst,expression:"!$route.query.notFirst"}]},[n("van-button",{staticClass:"bind-btn",attrs:{type:"primary",round:""},on:{click:e.firstBindEntClick}},[e._v("绑定订货企业")]),n("van-button",{staticClass:"bind-btn",attrs:{type:"warning",round:""},on:{click:e.skipHandle}},[e._v("跳过")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.$route.query.notFirst,expression:"$route.query.notFirst"}]},[n("van-button",{staticClass:"bind-btn",attrs:{type:"primary",round:""},on:{click:e.bindEntClick}},[e._v("绑定订货企业")])],1)])},r=[],o=n("795b"),a=n.n(o),s=n("ecc6"),c={name:"bindEnt",data:function(){return{formFieldRef:["entName","customerInfo"],entName:"",customerInfo:"",errorMessage:{entName:"",customerInfo:""}}},methods:{onKeyupInput:function(e){var t=this;s["a"].apply(this,[e,this.formFieldRef]).then(function(){t.bindEntHandle()})},firstBindEntClick:function(){var e=this;this.bindEntHandle().then(function(t){e.$router.push("/home/find")})},bindEntClick:function(){var e=this;this.bindEntHandle().then(function(t){e.$fxGO("BACK",e.$router)})},bindEntHandle:function(){var e=this;return new a.a(function(t){var n={companyName:e.entName,code:e.customerInfo};e.$fxHttp.requestPost({url:"".concat(e.$fxBaseApi.url,"/bingCompany"),data:n}).then(function(e){t(e)})})},skipHandle:function(){this.$router.push("/home/find")}}},u=c,l=(n("1ada"),n("0c7c")),f=Object(l["a"])(u,i,r,!1,null,"7c4f4163",null);t["default"]=f.exports},c3cd:function(e,t,n){e.exports=n.p+"src/assets/img/icon-ursename.17a1193a.png"},cd1c:function(e,t,n){var i=n("e853");e.exports=function(e,t){return new(i(e))(t)}},ce5a:function(e,t,n){},e74c:function(e,t,n){e.exports=n.p+"src/assets/img/icon-verification.05f555d5.png"},e853:function(e,t,n){var i=n("d3f4"),r=n("1169"),o=n("2b4c")("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},ecc6:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n("20d6");var i=n("795b"),r=n.n(i);function o(e,t){var n=this;return new r.a(function(i){var r=t.indexOf(e);if(~r)if(r===t.length-1)i();else{var o=t[r+1];n.$refs[o].focus()}})}},eedf:function(e,t,n){e.exports=n.p+"src/assets/img/icon-phoneNumber.dcb18ba6.png"}}]);
//# sourceMappingURL=registe.64b5fd42.js.map