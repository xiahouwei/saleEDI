(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75cf6c82"],{"6c09":function(t,e,a){},"8aff":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"saleedi-order-details"},[a("div",{staticClass:"order-details-warp"},[a("div",{staticClass:"order-details-box"},[a("div",{staticClass:"order-details fx-edi-block"},[a("div",{staticClass:"order-ent"},[t._v("企业名称："+t._s(t.orderDetailsData.companyName))]),a("div",{staticClass:"order-details-item"},[a("div",{staticClass:"order-item-cell"},[t._v("订单编号："+t._s(t.orderDetailsData.billNo))]),a("div",{staticClass:"order-item-cell"},[t._v("收货机构："+t._s(t.orderDetailsData.customerName))]),a("div",{staticClass:"order-item-cell"},[t._v("明细数量："+t._s(t.orderDetailsData.billDtCount))]),a("div",{staticClass:"order-item-cell"},[t._v("数量合计："+t._s(t.orderDetailsData.goodsCount))]),a("div",{staticClass:"order-item-cell"},[t._v("金额总计："+t._s(t.orderDetailsData.sumMoneyWithTax))])]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:"1"===t.orderDetailsData.billState,expression:"orderDetailsData.billState === '1'"}],staticClass:"details-edit-btn",attrs:{size:"mini",type:"primary",plain:""},on:{click:t.detailsEditClick}},[t._v("修改")])],1)]),a("div",{staticClass:"order-address fx-edi-block"},[a("div",{staticClass:"order-address-cell"},[a("div",{staticClass:"address-key"},[t._v("收货人：")]),a("div",[t._v(t._s(t.addressData.consignee))])]),a("div",{staticClass:"order-address-cell"},[a("div",{staticClass:"address-key"},[t._v("联系方式：")]),a("div",[t._v(t._s(t.addressData.telePhone))])]),a("div",{staticClass:"order-address-cell"},[a("div",{staticClass:"address-key"},[t._v("收货地址：")]),a("div",{staticClass:"address-value"},[t._v(t._s(t.addressData.address))])]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:"1"===t.orderDetailsData.billState,expression:"orderDetailsData.billState === '1'"}],staticClass:"address-edit-btn",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.addressEditClick()}}},[t._v("修改")])],1),a("div",{staticClass:"order-info fx-edi-block"},[a("div",{staticClass:"infor-key"},[t._v("备注信息：")]),a("van-field",{directives:[{name:"show",rawName:"v-show",value:"1"===t.orderDetailsData.billState,expression:"orderDetailsData.billState === '1'"}],staticClass:"info-value",attrs:{maxlength:"50",type:"textarea",placeholder:"请输入备注信息(最多输入50个字符)",rows:"3"},model:{value:t.orderDetailsData.remark,callback:function(e){t.$set(t.orderDetailsData,"remark",e)},expression:"orderDetailsData.remark"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"!==t.orderDetailsData.billState,expression:"orderDetailsData.billState !== '1'"}],staticClass:"info-value"},[t._v(t._s(t.orderDetailsData.remark))])],1),t._m(0)]),a("div",{staticClass:"order-details-bottom"},[a("div",{staticClass:"order-bottom-sumprice fx-price-font"},[t._v("￥"+t._s(t.orderDetailsData.sumMoneyWithTax))]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:"1"===t.orderDetailsData.billState,expression:"orderDetailsData.billState === '1'"}],attrs:{type:"primary",square:""},on:{click:t.confirm}},[t._v("确认提交")]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:"2"===t.orderDetailsData.billState,expression:"orderDetailsData.billState === '2'"}],attrs:{type:"warning",square:""},on:{click:t.receivingHandler}},[t._v("确认收货")]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:"3"===t.orderDetailsData.billState,expression:"orderDetailsData.billState === '3'"}],attrs:{type:"danger",square:""},on:{click:t.buyAgainHandler}},[t._v("再来一单")])],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-file fx-edi-block"},[a("div",[t._v("附件资料：")])])}],r=a("795b"),d=a.n(r),l={name:"orderDetails",data:function(){return{orderDetailsData:{},addressData:{},orderInfo:"",queryId:""}},created:function(){var t=this;this.$fxEventBus.$on("changeSelectAddress",function(e){t.addressData=e,t.orderDetailsData.receiptInfoId=e.id})},beforeRouteEnter:function(t,e,a){"/addressList"!==e.path?a(function(t){t.getBillAndDetails().then(function(e){e.receiptInfoId&&t.getCurrentAddress(e.receiptInfoId)})}):a()},methods:{getBillAndDetails:function(){var t=this;return new d.a(function(e){var a={id:t.$route.query.id};t.$fxHttp.requestPost({url:"/getBillAndDetails",data:a}).then(function(a){t.orderDetailsData=a,e(a)})})},getCurrentAddress:function(t){var e=this,a={id:t};this.$fxHttp.requestPost({url:"/getReceipt",data:a}).then(function(t){e.addressData=t})},detailsEditClick:function(){var t=this.orderDetailsData.companyId,e=this.orderDetailsData.companyName,a=this.orderDetailsData.planId,s=this.orderDetailsData.organId,i=this.orderDetailsData.organName,r=this.orderDetailsData.receiptInfoId;this.$router.push({path:"/orderItemDetails",query:{id:this.$route.query.id,companyId:t,companyName:e,planID:a,rdcId:s,rdcName:i,receiptInfoId:r,billState:"1"}})},addressEditClick:function(t){this.$router.push({path:"/addressList",query:{select:!0,defaultId:t}})},confirm:function(){var t=this,e={id:this.orderDetailsData.id,remark:this.orderDetailsData.remark,consignee:this.addressData.consignee,telePhone:this.addressData.telePhone,address:this.addressData.address,region:this.addressData.region};this.$fxHttp.requestPost({url:"/comfirmBill",data:e}).then(function(e){t.sendBill(),window.history.go(-1)})},sendBill:function(){var t={id:this.orderDetailsData.id};this.$fxHttp.requestGet({url:"/sendBill",data:t}).then(function(t){})},receivingHandler:function(){var t=this,e={id:this.orderDetailsData.id};this.$fxHttp.requestPost({url:"/completeBill",data:e}).then(function(e){t.$toast.success("确认收货成功"),window.history.go(-1)})},buyAgainHandler:function(){console.log("再来一单")}}},o=l,n=(a("fa5c"),a("0c7c")),c=Object(n["a"])(o,s,i,!1,null,"122c654b",null);e["default"]=c.exports},fa5c:function(t,e,a){"use strict";var s=a("6c09"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-75cf6c82.ceb5c32b.js.map